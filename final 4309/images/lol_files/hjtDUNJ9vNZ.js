if (self.CavalryLogger) { CavalryLogger.start_js(["bwrog"]); }

__d("CanvasProperty",[],(function a(b,c,d,e,f,g){f.exports={AUTO_CONVERT_PHOTO:"auto_convert_photo",COLLECTION:"collection",TUTORIAL:"tutorial",TEMPLATE:"template",WEBSITE_PARSING:"website_parsing"};}),null);
__d('UFICommonalityContext.react',['React'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.prototype.render=function(){return c('React').createElement('span',{className:'UFICommentCommonalityContext'},this.props.commonalityString);};function k(){h.apply(this,arguments);}k.PropTypes={commonalityString:j.string.isRequired};f.exports=k;}),null);
__d('PriorityRequestQueue',['invariant','Map','Set'],(function a(b,c,d,e,f,g,h){'use strict';function i(){this.$PriorityRequestQueue1=new (c('Map'))();this.$PriorityRequestQueue2=new (c('Map'))();this.$PriorityRequestQueue3=function(){};}i.prototype.dequeue=function(){return this.$PriorityRequestQueue4(Infinity);};i.prototype.setOnItemAdded=function(j){this.$PriorityRequestQueue3=j;};i.prototype.$PriorityRequestQueue4=function(j){var k=-Infinity;Array.from(this.$PriorityRequestQueue1.keys()).forEach(function(n){if(n<j)k=Math.max(k,n);});if(k===-Infinity)return null;var l=this.$PriorityRequestQueue1.get(k);l||h(0);var m=this.$PriorityRequestQueue5(l);if(m)return m;return this.$PriorityRequestQueue4(k);};i.prototype.$PriorityRequestQueue5=function(j){var k=j.queues,l=j.lastDequeued;if(!k.size)return null;var m=Array.from(k),n=l?m.findIndex(function(s){return s===l;}):-1;for(var o=n+1;o<=n+k.size;o++){var p=o%k.size,q=m[p],r=q.dequeue();if(r){j.lastDequeued=q;return r;}}return null;};i.prototype.setQueue=function(j,k){var l=this.$PriorityRequestQueue2.get(j);if(l===k)return;if(!l)this.$PriorityRequestQueue3();this.removeQueue(j);var m=this.$PriorityRequestQueue1.get(k);if(!m)m={lastDequeued:null,queues:new (c('Set'))()};m.queues.add(j);j.setOnItemAdded(this.$PriorityRequestQueue3);this.$PriorityRequestQueue2.set(j,k);this.$PriorityRequestQueue1.set(k,m);};i.prototype.removeQueue=function(j){var k=this.$PriorityRequestQueue2.get(j);if(k!==undefined&&k!==null){var l=this.$PriorityRequestQueue1.get(k);l||h(0);var m=l.queues;if(l.lastDequeued===j){var n=Array.from(m),o=n.findIndex(function(p){return p===j;});l.lastDequeued=n[o-1]||null;}j.setOnItemAdded(function(){});this.$PriorityRequestQueue2['delete'](j);m['delete'](j);}};f.exports=i;}),null);
__d('TrackedPromise',['Promise'],(function a(b,c,d,e,f,g){'use strict';var h=window.Promise||c('Promise');c('Promise').resolve();function i(j){this.$TrackedPromise1=true;this.$TrackedPromise2=j.then(function(k){this.$TrackedPromise1=false;return k;}.bind(this),function(k){this.$TrackedPromise1=false;return h.reject(k);}.bind(this));}i.prototype.getPromise=function(){return this.$TrackedPromise2;};i.prototype.isPending=function(){return this.$TrackedPromise1;};f.exports=i;}),null);
__d('getXHRRequestHandlerHelper',[],(function a(b,c,d,e,f,g){'use strict';function h(k,l,m,n){var o=l.call(k);m.call(k,function(){o&&o.apply(undefined,arguments);n.apply(undefined,arguments);});}function i(k){this.$XHRRequestHandlerHelper1=k;}i.prototype.addResponseHandler=function(k){h(this.$XHRRequestHandlerHelper1,this.$XHRRequestHandlerHelper1.getResponseHandler,this.$XHRRequestHandlerHelper1.setResponseHandler,k);return this;};i.prototype.addAbortHandler=function(k){h(this.$XHRRequestHandlerHelper1,this.$XHRRequestHandlerHelper1.getAbortHandler,this.$XHRRequestHandlerHelper1.setAbortHandler,k);return this;};i.prototype.addErrorHandler=function(k){h(this.$XHRRequestHandlerHelper1,this.$XHRRequestHandlerHelper1.getErrorHandler,this.$XHRRequestHandlerHelper1.setErrorHandler,k);return this;};function j(k){return new i(k);}f.exports=j;}),null);
__d('VideoPipelineProvider',['NetworkRequestPipeline','PriorityRequestQueue','VideoPlayerShakaExperiments'],(function a(b,c,d,e,f,g){'use strict';var h=void 0,i=void 0;function j(){if(!i)i=new (c('PriorityRequestQueue'))();return i;}function k(){if(!h)h=new (c('NetworkRequestPipeline'))(j(),c('VideoPlayerShakaExperiments').requestPipelineMaxConcurrentRequests,c('VideoPlayerShakaExperiments').requestPipelineSoothingFactor);return h;}k();f.exports={getPriorityRequestQueue:j,getNetowrkRequestPipeline:k};}),null);
__d('VideoPriorityCalculator',['VideoPlayerShakaExperiments'],(function a(b,c,d,e,f,g){'use strict';function h(i){var j=i.playhead,k=i.bufferEnd,l=i.isPlaying,m=c('VideoPlayerShakaExperiments').globalSchedulerPriorityThreshold,n=k-j<=m?1:0,o=l?1:0;return n+o;}f.exports={calculate:h};}),null);
__d('VideoSegmentInfoHelper',['URI','VideoDashPrefetchCache','XHRRequest','getCrossOriginTransport'],(function a(b,c,d,e,f,g){'use strict';function h(l){var m=new (c('XHRRequest'))(j(l)).setMethod('GET').setResponseType('arraybuffer').setTransportBuilder(c('getCrossOriginTransport'));return m;}function i(l){var m=l.requestInfo,n=m.startByte,o=m.endByte;if(n&&o)return o-n;return null;}function j(l){var m=l.requestInfo,n=m.baseUrl,o=m.startByte,p=m.endByte,q=new (c('URI'))(n);if(o!==null&&p!==undefined&&o!==null&&p!==undefined)q=q.addQueryData({bytestart:o,byteend:p});return q;}function k(l){return c('VideoDashPrefetchCache').hasCacheValue(j(l).toString());}f.exports={createRequest:h,estimateRequestSize:i,getRequestUri:j,isPrefetchedRequest:k};}),null);
__d('VideoSegmentPromiseBuffer',['Map','Set'],(function a(b,c,d,e,f,g){'use strict';function h(){this.$VideoSegmentPromiseBuffer1=new (c('Map'))();}h.prototype.appendSegmentPromise=function(i,j){this.$VideoSegmentPromiseBuffer1.set(i,j);return this;};h.prototype.hasSegmentPromise=function(i){return this.$VideoSegmentPromiseBuffer1.has(i);};h.prototype.getSegmentPromise=function(i){return this.$VideoSegmentPromiseBuffer1.get(i)||null;};h.prototype.hasOtherPendingSegments=function(i){var j=new (c('Set'))(i);return Array.from(this.$VideoSegmentPromiseBuffer1.entries()).some(function(k){return k[1].isPending()&&!j.has(k[0]);});};h.prototype.isFirstPendingSegment=function(i){var j=this.$VideoSegmentPromiseBuffer1.get(i);if(!j||!j.isPending())return false;var k=void 0;for(var l=this.$VideoSegmentPromiseBuffer1.entries(),m=Array.isArray(l),n=0,l=m?l:l[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var o;if(m){if(n>=l.length)break;o=l[n++];}else{n=l.next();if(n.done)break;o=n.value;}var p=o;if(p[1].isPending()){k=p[0];break;}}return k===i;};h.prototype.clearAllSegmentPromises=function(){this.$VideoSegmentPromiseBuffer1.clear();return this;};h.prototype.removeSegmentPromisesOlderThan=function(i){if(!this.hasSegmentPromise(i))return;for(var j=this.$VideoSegmentPromiseBuffer1.keys(),k=Array.isArray(j),l=0,j=k?j:j[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var m;if(k){if(l>=j.length)break;m=j[l++];}else{l=j.next();if(l.done)break;m=l.value;}var n=m;if(n===i)return;this.$VideoSegmentPromiseBuffer1['delete'](n);}};h.prototype.removeSegmentPromise=function(i){this.$VideoSegmentPromiseBuffer1['delete'](i);};f.exports=h;}),null);
__d('VideoSegmentRequestQueue',['Map'],(function a(b,c,d,e,f,g){'use strict';function h(){this.$VideoSegmentRequestQueue1=function(){};this.$VideoSegmentRequestQueue2=new (c('Map'))();this.$VideoSegmentRequestQueue3=new (c('Map'))();}h.prototype.dequeue=function(){var i=this.$VideoSegmentRequestQueue3.entries().next().value;if(i){this.$VideoSegmentRequestQueue3['delete'](i[0]);return i[1]||null;}i=this.$VideoSegmentRequestQueue2.entries().next().value;if(!i)return null;this.$VideoSegmentRequestQueue2['delete'](i[0]);return i[1]||null;};h.prototype.setOnItemAdded=function(i){this.$VideoSegmentRequestQueue1=i;};h.prototype.enqueue=function(i,j,k){var l={xhrRequest:j,estimatedSize:k};this.$VideoSegmentRequestQueue2.set(i,l);this.$VideoSegmentRequestQueue1();return this;};h.prototype.clearNormalQueue=function(){this.$VideoSegmentRequestQueue2.clear();};h.prototype.changeToTopPri=function(i){var j=this.$VideoSegmentRequestQueue2.get(i);if(j){this.$VideoSegmentRequestQueue2['delete'](i);this.$VideoSegmentRequestQueue3.set(i,j);}};h.prototype.removeTopPriSegment=function(i){var j=this.$VideoSegmentRequestQueue3.get(i);this.$VideoSegmentRequestQueue3['delete'](i);return j?j.xhrRequest:null;};f.exports=h;}),null);
__d('createVideoResponsePromise',['Promise','VideoPlayerShakaError','getXHRRequestHandlerHelper','performanceNow'],(function a(b,c,d,e,f,g){'use strict';var h=window.Promise||c('Promise');c('Promise').resolve();function i(j){var k=void 0,l=j.getURI().toString(),m=j.send;j.send=function(){k=c('performanceNow')();m.call(j);};var n=new h(function(o,p){c('getXHRRequestHandlerHelper')(j).addResponseHandler(function(q){o({response:q,responseTime:c('performanceNow')()-k});}).addAbortHandler(function(){var q=c('VideoPlayerShakaError').translateError({errorMsg:'Request aborted.',errorType:'abort',errorCode:0},l,'aborted');p(q);}).addErrorHandler(function(q){var r=c('VideoPlayerShakaError').translateError(q,l,'net');p(r);});});return n;}f.exports=i;}),null);